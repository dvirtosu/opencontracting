{"version":3,"sources":["login.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.js","sourcesContent":[";(function () {\n    const login = () => {\n        const refreshPage = () => {\n            window.location.reload();\n        };\n\n        const loginWithSiteCredentials = (e) => {\n            const currentPageUrl = window.document.URL;\n            const win = window.open(`/login?intended-url=${currentPageUrl}`, \"site-login\", 'width=800, height=600');\n\n            const pollTimer = window.setInterval(function () {\n                try {\n                    console.log(win.document.URL);\n                    if (win.document.URL === currentPageUrl) {\n                        window.clearInterval(pollTimer);\n                        win.close();\n                        refreshPage();\n                    }\n                } catch (e) {\n                }\n            }, 500);\n        };\n\n        return {\n            handle(){\n                console.log('hey');\n                $('a#site-login').on('click', loginWithSiteCredentials);\n            }\n        }\n    };\n\n    login().handle();\n}());\n"]}